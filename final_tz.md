# FINAL_TZ.md

## 1. Общая информация

**Название проекта:** Внутренний корпоративный сервис управления бизнес‑требованиями

**Цель:**
Создание облачного инструмента для формирования, согласования и хранения бизнес‑требований с поддержкой workflow согласования.

**Тип проекта:** MVP

---

## 2. Авторизация

- Логин / пароль
- Без OAuth
- Без ролей в MVP

---

## 3. Форма бизнес‑требований

### Поля

1. Цель разработки (обязательное)
2. Описание разработки
3. Экономическая эффективность:
   - список метрик
   - значение
   - единицы измерения
   - добавление / удаление метрик
4. RICE‑оценка:
   - вкладки
   - отдельная вкладка на каждого согласующего
5. Требования к системе:
   - формат user story / бизнес‑требований

### Подсказки

- У каждого поля есть подсказка
- Подсказка открывается в модальном окне
- Кнопки: «Понятно», «Закрыть»

---

## 4. Статусы документа (на русском)

- Черновик
- Согласование
- Требует доработки
- Отменено
- Согласовано

---

## 5. Workflow согласования

1. Пользователь создаёт документ (черновик)
2. Выбирает согласующих (минимум 1)
3. Отправляет на согласование
4. Любой согласующий может:
   - согласовать
   - отказать
   - отправить на доработку
5. При отказе / доработке обязательна причина
6. После доработки документ снова отправляется на согласование

---

## 6. Интерфейс

- Вкладки:
  - Мои заявки
  - На согласовании
- Интерфейс полностью на русском языке

---

## 7. Модель данных (логическая)

Сущности:
- User
- Document
- Approval
- ApprovalStep
- Comment
- DocumentMetric
- DocumentRICE

Связи:
- User 1→N Document
- Document 1→N Approval
- Approval 1→N ApprovalStep
- Document 1→N Comment
- Approval 1→N Comment
- Document 1→N DocumentMetric
- Document 1→1 DocumentRICE

---

## 8. API (контракт)

Подробная структура API утверждена отдельно и является частью ТЗ.
Изменения API запрещены без согласования.

---

## 9. Технические ограничения

- FastAPI
- Jinja2 + минимальный JS
- Один backend‑сервис
- SQLite (MVP)
- SQLAlchemy + Alembic
- Docker

---

## 10. Нефункциональные требования

- Читаемый код
- Комментарии к каждой функции
- Простота важнее гибкости

---

## 11. Статус документа

Данный документ является **финальной версией ТЗ для MVP**.

